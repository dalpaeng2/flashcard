<div data-controller="quiz">
  <h1 class="text-2xl font-semibold mb-4">Quiz for <%= @deck.name %></h1>
  <% if @current_card %>
    <div class="mb-2">
      <% if @current_card.new_card? %>
        <span class="inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded">새로운 카드</span>
      <% elsif @current_card.overdue? %>
        <span class="inline-block bg-red-100 text-red-800 text-xs px-2 py-1 rounded">복습 필요</span>
      <% else %>
        <span class="inline-block bg-green-100 text-green-800 text-xs px-2 py-1 rounded">정기 복습</span>
      <% end %>
    </div>
    <div class="bg-white shadow rounded-lg p-4">
      <p class="text-lg mb-2"><%= @current_card.front %></p>
    </div>
    <div class="mt-4">
      <div data-quiz-target="cardBack" class="bg-white shadow rounded-lg p-4 hidden"><%= @current_card.back %></div>
      <button data-quiz-target="showAnswerBtn" data-action="click->quiz#showAnswer" class="bg-blue-500 text-white px-4 py-2 rounded">Show Answer</button>
      
      <div data-quiz-target="timeButtons" class="hidden mt-4">
        <p class="text-sm text-gray-600 mb-3">다음 퀴즈에 이 카드가 포함될 시간을 선택하세요:</p>
        <div class="flex gap-2 flex-wrap">
          <button data-action="click->quiz#selectTime" data-minutes="10" data-card-id="<%= @current_card.id %>" 
                  class="bg-green-500 hover:bg-green-600 text-white px-3 py-2 rounded text-sm">
            10분 후
          </button>
          <button data-action="click->quiz#selectTime" data-minutes="60" data-card-id="<%= @current_card.id %>" 
                  class="bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-2 rounded text-sm">
            1시간 후
          </button>
          <button data-action="click->quiz#selectTime" data-minutes="1440" data-card-id="<%= @current_card.id %>" 
                  class="bg-orange-500 hover:bg-orange-600 text-white px-3 py-2 rounded text-sm">
            1일 후
          </button>
          <button data-action="click->quiz#selectTime" data-minutes="10080" data-card-id="<%= @current_card.id %>" 
                  class="bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded text-sm">
            1주일 후
          </button>
        </div>
      </div>
    </div>
  <% else %>
    <p class="text-gray-600">No cards available for this deck.</p>
  <% end %>
</div>
